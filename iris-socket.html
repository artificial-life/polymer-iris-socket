<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iris-polymer-importer/iris-importer.html">
<link rel="import" href="socket-scripts.html">

<dom-module id="iris-socket">
  <template>
  </template>

  <script>
    'use strict';
    let method = {
      name: "socket",
      request: function(uri, data) {
        return new Promise((resolve, reject) => {
          resolve(mock_request(uri, data))
        });


      },
      subscribe: function(uri, callback) {

      },
      unsubscribe: function(uri, callback) {

      }
    };

    (function() {
      Polymer({
        is: 'iris-socket',
        properties: {
          api: Object
        },
        ready() {
          //init socket
          let connection = this.api.require('connection');

          connection.addConnectionMethod(method);
        }
      });
    })();
  </script>

</dom-module>